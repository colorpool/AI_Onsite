{"version":3,"sources":["p__agents__index-async.14120236499130903568.hot-update.js","src/pages/agents/index.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'p__agents__index',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='17730223215672386658';\nruntime.updateEnsure2Map({\"src/.umi/core/EmptyRoute.tsx\":[\"src/.umi/core/EmptyRoute.tsx\"],\"src/.umi/plugin-layout/Layout.tsx\":[\"vendors\",\"src/.umi/plugin-layout/Layout.tsx\"],\"src/.umi/plugin-openapi/openapi.tsx\":[\"vendors\",\"src/.umi/plugin-openapi/openapi.tsx\"],\"src/pages/404.tsx\":[\"p__404\"],\"src/pages/CustomerSuccess/index.tsx\":[\"p__CustomerSuccess__index\"],\"src/pages/agents/index.tsx\":[\"p__agents__index\"],\"src/pages/user/login/index.tsx\":[\"p__user__login__index\"]});;\n  },\n);\n","import React from 'react';\nimport { Button, Row, Col, Typography } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { useNavigate, useLocation } from 'umi';\nimport AgentCard from '../../components/agents/AgentCard';\nimport { mockAgents } from '../../mock/agentData';\nimport AgentCreateForm from '../../components/agents/AgentCreateForm';\nimport { mockKnowledgeBases, mockAgentSkills } from '../../mock/agentData';\nimport { AgentCreateFormData } from '../../types/agent';\nimport { message } from 'antd';\nimport AgentEditPage from './[id]/edit';\nimport AgentAnalyticsPage from './[id]/analytics';\n\nconst { Title } = Typography;\n\nconst AgentsPage: React.FC = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const handleCreateAgent = () => {\n    navigate('/ai-tools/consultant/new');\n  };\n\n  const handleSubmit = (data: AgentCreateFormData) => {\n    // TODO: 实现创建Agent的API调用\n    console.log('Creating agent with data:', data);\n    \n    // 模拟API调用成功\n    message.success('分身创建成功！');\n    navigate('/ai-tools/consultant');\n  };\n\n  const handleCancel = () => {\n    navigate('/ai-tools/consultant');\n  };\n\n  // 根据当前路径决定显示什么内容\n  const pathname = location.pathname;\n  console.log('Current pathname:', pathname);\n  \n  // 如果是创建页面\n  if (pathname === '/ai-tools/consultant/new') {\n    return (\n      <div style={{ \n        padding: '24px',\n        background: '#fafafa',\n        minHeight: 'calc(100vh - 120px)'\n      }}>\n        <div style={{ \n          maxWidth: '1000px', \n          margin: '0 auto'\n        }}>\n          {/* 页面标题和返回按钮 */}\n          <div style={{ \n            display: 'flex', \n            alignItems: 'center', \n            marginBottom: '24px',\n            gap: '16px'\n          }}>\n            <Button \n              onClick={handleCancel}\n              style={{ border: 'none', padding: 0 }}\n            >\n              返回\n            </Button>\n            <Title level={3} style={{ margin: 0, color: '#262626', fontSize: '18px' }}>\n              创建新分身\n            </Title>\n          </div>\n\n          {/* 创建表单 */}\n          <AgentCreateForm\n            allKnowledgeBases={mockKnowledgeBases}\n            allAgentSkills={mockAgentSkills}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  // 如果是配置或分析页面\n  const editMatch = pathname.match(/\\/ai-tools\\/consultant\\/([^\\/]+)\\/edit/);\n  const analyticsMatch = pathname.match(/\\/ai-tools\\/consultant\\/([^\\/]+)\\/analytics/);\n  \n  if (editMatch || analyticsMatch) {\n    const agentId = editMatch ? editMatch[1] : analyticsMatch![1];\n    const isEdit = !!editMatch;\n    const agent = mockAgents.find(a => a.id === agentId);\n    \n    if (!agent) {\n      return <div>分身不存在</div>;\n    }\n\n    // 直接渲染对应的组件，传递必要的参数\n    if (isEdit) {\n      return <AgentEditPage agentId={agentId} />;\n    } else {\n      return <AgentAnalyticsPage agentId={agentId} />;\n    }\n  }\n\n  console.log('Rendering main page with', mockAgents.length, 'agents');\n  return (\n    <div style={{ \n      padding: '24px',\n      background: '#fafafa',\n      minHeight: 'calc(100vh - 120px)'\n    }}>\n      <div style={{ \n        maxWidth: '1400px', \n        margin: '0 auto'\n      }}>\n        {/* 操作按钮 */}\n        <div style={{ \n          display: 'flex', \n          justifyContent: 'flex-end', \n          alignItems: 'center', \n          marginBottom: '24px'\n        }}>\n          <Button \n            type=\"primary\" \n            icon={<PlusOutlined />}\n            size=\"middle\"\n            onClick={handleCreateAgent}\n            style={{\n              borderRadius: '6px',\n              fontWeight: '500'\n            }}\n          >\n            创建新分身\n          </Button>\n        </div>\n\n        {/* Agent 卡片网格 */}\n        <Row gutter={[16, 16]}>\n          {mockAgents.map((agent) => (\n            <Col key={agent.id} xs={24} sm={12} md={8} lg={6} xl={6}>\n              <AgentCard agent={agent} />\n            </Col>\n          ))}\n        </Row>\n\n        {/* 空状态 */}\n        {mockAgents.length === 0 && (\n          <div style={{ \n            textAlign: 'center', \n            padding: '80px 20px',\n            color: '#999'\n          }}>\n            <div style={{ fontSize: '64px', marginBottom: '24px' }}>🤖</div>\n            <Title level={3} style={{ color: '#666', marginBottom: '16px' }}>\n              还没有创建任何分身\n            </Title>\n            <p style={{ fontSize: '16px', color: '#999', marginBottom: '32px' }}>\n              点击右上角的\"创建新分身\"按钮开始创建您的第一个AI助手\n            </p>\n            <Button \n              type=\"primary\" \n              icon={<PlusOutlined />}\n              onClick={handleCreateAgent}\n              size=\"large\"\n              style={{ \n                height: '48px',\n                borderRadius: '6px',\n                fontWeight: '500'\n              }}\n            >\n              创建第一个分身\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AgentsPage;\n"],"names":[],"mappings":"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"}