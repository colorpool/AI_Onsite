{"version":3,"sources":["src/pages/handover/index.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { \n  Card, \n  Table, \n  Button, \n  Input, \n  Select, \n  Space, \n  Tag, \n  Typography, \n  Row, \n  Col, \n  Statistic, \n  Pagination,\n  message,\n  Tooltip,\n  Rate\n} from 'antd';\nimport { \n  SearchOutlined, \n  ReloadOutlined, \n  DownloadOutlined, \n  SettingOutlined,\n  PlusOutlined,\n  DownOutlined,\n  QuestionCircleOutlined,\n  HistoryOutlined\n} from '@ant-design/icons';\nimport { useNavigate, useLocation } from 'umi';\nimport { mockCustomerHandovers } from '../../mock/handoverData';\nimport { CustomerHandover, HandoverStatus, RiskLevel, HandoverSearchParams } from '../../types/handover';\nimport type { InputRef } from 'antd';\nimport type { ColumnType } from 'antd/es/table';\nimport type { FilterConfirmProps } from 'antd/es/table/interface';\nimport { useRef } from 'react';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\n// 统一的卡片样式 - 参考工作看板的现代风格\nconst cardStyle = {\n  borderRadius: '12px',\n  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.06)',\n  border: '1px solid #f0f0f0',\n  background: '#ffffff',\n  marginBottom: '16px',\n};\n\nconst HandoverListPage: React.FC = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [currentPage, setCurrentPage] = useState(1);\n  const pageSize = 5; // 一页显示5个数据\n  \n  // 搜索筛选状态\n  const [searchText, setSearchText] = useState('');\n  const [searchedColumn, setSearchedColumn] = useState('');\n  const searchInput = useRef<InputRef>(null);\n  \n  const [searchParams, setSearchParams] = useState<HandoverSearchParams>({\n    customerName: '',\n    status: undefined,\n    riskLevel: undefined\n  });\n\n  // 处理搜索\n  const handleSearch = (\n    selectedKeys: string[],\n    confirm: (param?: FilterConfirmProps) => void,\n    dataIndex: keyof CustomerHandover,\n  ) => {\n    confirm();\n    setSearchText(selectedKeys[0]);\n    setSearchedColumn(dataIndex);\n  };\n\n  // 处理重置\n  const handleReset = (clearFilters: () => void) => {\n    clearFilters();\n    setSearchText('');\n  };\n\n  // 获取列搜索属性\n  const getColumnSearchProps = (dataIndex: keyof CustomerHandover): ColumnType<CustomerHandover> => ({\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters, close }) => (\n      <div style={{ padding: 8 }} onKeyDown={e => e.stopPropagation()}>\n        <Input\n          ref={searchInput}\n          placeholder={`搜索 ${dataIndex}`}\n          value={selectedKeys[0]}\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => handleSearch(selectedKeys as string[], confirm, dataIndex)}\n          style={{ marginBottom: 8, display: 'block' }}\n        />\n        <Space>\n          <Button\n            type=\"primary\"\n            onClick={() => handleSearch(selectedKeys as string[], confirm, dataIndex)}\n            icon={<SearchOutlined />}\n            size=\"small\"\n            style={{ width: 90 }}\n          >\n            搜索\n          </Button>\n          <Button\n            onClick={() => clearFilters && handleReset(clearFilters)}\n            size=\"small\"\n            style={{ width: 90 }}\n          >\n            重置\n          </Button>\n          <Button\n            type=\"link\"\n            size=\"small\"\n            onClick={() => {\n              confirm({ closeDropdown: false });\n              setSearchText((selectedKeys as string[])[0]);\n              setSearchedColumn(dataIndex);\n            }}\n          >\n            筛选\n          </Button>\n          <Button\n            type=\"link\"\n            size=\"small\"\n            onClick={() => {\n              close();\n            }}\n          >\n            关闭\n          </Button>\n        </Space>\n      </div>\n    ),\n    filterIcon: (filtered: boolean) => (\n      <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />\n    ),\n    onFilter: (value, record) => {\n      const fieldValue = record[dataIndex];\n      if (fieldValue === null || fieldValue === undefined) return false;\n      return fieldValue\n        .toString()\n        .toLowerCase()\n        .includes((value as string).toLowerCase());\n    },\n    onFilterDropdownOpenChange: visible => {\n      if (visible) {\n        setTimeout(() => searchInput.current?.select(), 100);\n      }\n    },\n  });\n\n  // 处理新增交接\n  const handleAddHandover = () => {\n    navigate('/profiles/handover/new');\n  };\n\n  // 处理导出\n  const handleExport = () => {\n    message.success('导出功能开发中...');\n  };\n\n  // 处理查看详情（可指定默认标签页）\n  const handleViewDetail = (record: CustomerHandover, tabKey?: string) => {\n    const url = tabKey ? `/profiles/handover/${record.id}?tab=${tabKey}` : `/profiles/handover/${record.id}`;\n    navigate(url);\n  };\n\n  // 根据当前路径决定显示什么内容\n  const pathname = location.pathname;\n  \n  \n  // 如果是创建页面\n  if (pathname === '/profiles/handover/new') {\n    return (\n      <div style={{ \n        padding: '24px',\n        background: '#fafafa',\n        minHeight: 'calc(100vh - 120px)',\n        paddingBottom: '60px' // 为footer留出底部间距\n      }}>\n        <div style={{ \n          maxWidth: '1000px', \n          margin: '0 auto'\n        }}>\n          {/* 页面标题和返回按钮 */}\n          <div style={{ \n            display: 'flex', \n            alignItems: 'center', \n            marginBottom: '24px',\n            gap: '16px'\n          }}>\n            <Button \n              onClick={() => navigate('/profiles/handover-implementation')}\n              style={{ border: 'none', padding: 0 }}\n            >\n              返回\n            </Button>\n            <Title level={3} style={{ margin: 0, color: '#262626', fontSize: '18px' }}>\n              创建新客户交接\n            </Title>\n          </div>\n\n          {/* 创建表单 */}\n          <div style={{ \n            background: '#fff',\n            borderRadius: '8px',\n            padding: '24px'\n          }}>\n            <div style={{ textAlign: 'center', padding: '40px' }}>\n              <Title level={4} style={{ color: '#666' }}>\n                创建客户交接表单\n              </Title>\n              <p style={{ color: '#999' }}>\n                这里将显示创建客户交接的表单内容\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  // 如果是详情页面或历史查询页面，不显示列表页内容\n  if (pathname.match(/^\\/profiles\\/handover\\/\\d+$/) || pathname === '/profiles/handover/history') {\n    return null;\n  }\n\n  // 过滤数据\n  const filteredData = useMemo(() => {\n    return mockCustomerHandovers.filter(item => {\n      const text = (searchText || '').trim().toLowerCase();\n      const matchText = !text || (item.customerName?.toLowerCase().includes(text) || item.handoverNumber?.toLowerCase().includes(text));\n      const matchName = !searchParams.customerName || \n        item.customerName.includes(searchParams.customerName);\n      const matchStatus = !searchParams.status || \n        item.handoverStatus === searchParams.status;\n      const matchRisk = !searchParams.riskLevel || \n        item.riskLevel === searchParams.riskLevel;\n      \n      return matchText && matchName && matchStatus && matchRisk;\n    });\n  }, [searchParams, searchText]);\n\n  // 分页数据\n  const paginatedData = useMemo(() => {\n    const startIndex = (currentPage - 1) * pageSize;\n    return filteredData.slice(startIndex, startIndex + pageSize);\n  }, [filteredData, currentPage]);\n\n  // 顶部数据看板统计\n  const kpi = useMemo(() => {\n    const now = new Date();\n    const currentYear = now.getFullYear();\n    const currentMonth = now.getMonth();\n    const toDate = (s: string) => new Date(s.replace(/-/g, '/'));\n\n    const pendingCount = mockCustomerHandovers.filter(item => item.handoverStatus === 'not_handover').length;\n    const completedThisMonth = mockCustomerHandovers.filter(item => {\n      if (item.expectationAlignment !== 'aligned') return false;\n      const updated = toDate(item.updatedAt);\n      return updated.getFullYear() === currentYear && updated.getMonth() === currentMonth;\n    }).length;\n    const riskyCount = mockCustomerHandovers.filter(item => item.hasRiskAlert).length;\n\n    return { pendingCount, completedThisMonth, riskyCount };\n  }, []);\n\n  // 状态标签颜色映射\n  const statusColorMap = {\n    pending: 'orange',\n    processing: 'blue',\n    aligned: 'green',\n    partially_aligned: 'gold'\n  };\n\n  // 状态文本映射\n  const statusTextMap = {\n    pending: '待处理',\n    processing: '处理中',\n    aligned: '已对齐',\n    partially_aligned: '部分对齐'\n  };\n\n  // 风险等级颜色映射\n  const riskColorMap = {\n    high: 'red',\n    medium: 'orange',\n    low: 'green'\n  };\n\n  // 风险等级文本映射\n  const riskTextMap = {\n    high: '高风险',\n    medium: '中风险',\n    low: '低风险'\n  };\n\n  // 表格列定义\n  const columns = [\n    {\n      title: '交接单编号',\n      dataIndex: 'handoverNumber',\n      key: 'handoverNumber',\n      width: 120,\n      render: (num: string, record: CustomerHandover) => (\n        <span style={{ fontFamily: 'monospace' }}>{num}</span>\n      ),\n    },\n    {\n      title: '客户名称',\n      dataIndex: 'customerName',\n      key: 'customerName',\n      width: 220,\n      sorter: (a: CustomerHandover, b: CustomerHandover) => a.customerName.localeCompare(b.customerName),\n      render: (name: string, record: CustomerHandover) => (\n        <a onClick={() => handleViewDetail(record, 'basic-info')}>{name}</a>\n      ),\n    },\n    {\n      title: '交接单',\n      dataIndex: 'hasHandoverDocument',\n      key: 'hasHandoverDocument',\n      width: 80,\n      sorter: (a: CustomerHandover, b: CustomerHandover) => Number(a.hasHandoverDocument) - Number(b.hasHandoverDocument),\n      render: (hasDocument: boolean, record: CustomerHandover) => (\n        hasDocument ? (\n          <Tag color=\"blue\" style={{ cursor: 'pointer' }} onClick={() => handleViewDetail(record, 'action-plan')}>有</Tag>\n        ) : (\n          <Tag>无</Tag>\n        )\n      ),\n    },\n    {\n      title: '风险提示',\n      dataIndex: 'hasRiskAlert',\n      key: 'hasRiskAlert',\n      width: 100,\n      sorter: (a: CustomerHandover, b: CustomerHandover) => Number(a.hasRiskAlert) - Number(b.hasRiskAlert),\n      render: (hasRisk: boolean, record: CustomerHandover) => {\n        if (!hasRisk) return <Tag>无风险</Tag>;\n        const level = record.riskLevel;\n        const color = riskColorMap[level as keyof typeof riskColorMap] || 'orange';\n        const text = riskTextMap[level as keyof typeof riskTextMap] || '有风险';\n        return (\n          <Tag color={color} style={{ cursor: 'pointer' }} onClick={() => handleViewDetail(record, 'risks-opportunities')}>\n            {text}\n          </Tag>\n        );\n      },\n    },\n    {\n      title: '干系人',\n      dataIndex: 'stakeholderCount',\n      key: 'stakeholderCount',\n      width: 100,\n      sorter: (a: CustomerHandover, b: CustomerHandover) => (a.stakeholderCount || 0) - (b.stakeholderCount || 0),\n      render: (count: number, record: CustomerHandover) => (\n        <Tag color=\"purple\" style={{ cursor: 'pointer' }} onClick={() => handleViewDetail(record, 'stakeholders')}>\n          {count} 人\n        </Tag>\n      ),\n    },\n    {\n      title: '客户期望对齐',\n      dataIndex: 'expectationAlignment',\n      key: 'expectationAlignment',\n      width: 120,\n      sorter: (a: CustomerHandover, b: CustomerHandover) => a.expectationAlignment.localeCompare(b.expectationAlignment),\n      render: (alignment: string, record: CustomerHandover) => {\n        const colorMap = {\n          aligned: 'green',\n          partially_aligned: 'gold',\n          not_aligned: 'red'\n        };\n        const textMap = {\n          aligned: '已对齐',\n          partially_aligned: '部分对齐',\n          not_aligned: '未对齐'\n        };\n        return (\n          <Tag color={colorMap[alignment as keyof typeof colorMap]} style={{ cursor: 'pointer' }} onClick={() => handleViewDetail(record, 'expectation-alignment')}>\n            {textMap[alignment as keyof typeof textMap]}\n          </Tag>\n        );\n      },\n    },\n    {\n      title: '销售创建时间',\n      dataIndex: 'salesCreatedAt',\n      key: 'salesCreatedAt',\n      width: 120,\n      sorter: (a: CustomerHandover, b: CustomerHandover) => new Date(a.salesCreatedAt || '').getTime() - new Date(b.salesCreatedAt || '').getTime(),\n      render: (date: string) => date ? new Date(date).toLocaleDateString() : '-',\n    },\n    {\n      title: '客户满意度',\n      dataIndex: 'handoverRating',\n      key: 'handoverRating',\n      width: 150,\n      sorter: (a: CustomerHandover, b: CustomerHandover) => (a.handoverRating || 0) - (b.handoverRating || 0),\n      render: (rating: number, record: CustomerHandover) => (\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n          <Rate \n            disabled \n            value={rating} \n            style={{ fontSize: '16px' }}\n          />\n          <span style={{ color: '#1890ff', fontWeight: '500' }}>\n            {rating}\n          </span>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <div style={{ \n      padding: '32px 40px',\n      background: '#f5f5f5',\n      minHeight: 'calc(100vh - 64px)'\n    }}>\n      {/* 页面标题 */}\n          <div style={{ \n            display: 'flex', \n            justifyContent: 'space-between', \n            alignItems: 'center',\n            marginBottom: '24px'\n          }}>\n            <div>\n              <Title level={2} style={{ margin: 0, color: '#262626' }}>交接实施</Title>\n              <Text type=\"secondary\">确保从销售到服务的丝滑交接与价值对齐</Text>\n            </div>\n            \n            {/* 右侧：快捷链接 */}\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n              <Tooltip title=\"历史交接查询\">\n                <Button\n                  type=\"text\"\n                  shape=\"circle\"\n                  size=\"large\"\n                  icon={<HistoryOutlined />}\n                  style={{\n                    width: '44px',\n                    height: '44px',\n                    background: '#1890ff15',\n                    border: '1px solid #1890ff30',\n                    color: '#1890ff',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                  }}\n                  onClick={() => navigate('/profiles/handover/history')}\n                />\n              </Tooltip>\n            </div>\n          </div>\n\n        {/* 顶部数据看板 */}\n        <div style={{ marginBottom: '24px' }}>\n          <Row gutter={16}>\n            <Col xs={24} sm={8}>\n              <Card style={{ ...cardStyle, marginBottom: 0 }}>\n                <Statistic \n                  title={\n                    <span>\n                      待处理交接\n                      <Tooltip \n                        title={\n                          <div style={{ maxWidth: '300px' }}>\n                            <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>待处理交接</div>\n                            <div style={{ marginBottom: '6px' }}>含义：当前需要处理的客户交接任务数量</div>\n                            <div style={{ marginBottom: '6px' }}>来源：CRM系统中的交接任务状态</div>\n                            <div style={{ marginBottom: '6px' }}>计算方式：状态为\"待处理\"的交接记录总数</div>\n                            <div style={{ color: '#ffa940' }}>提示：建议优先处理高优先级客户</div>\n                          </div>\n                        }\n                        placement=\"top\"\n                        overlayStyle={{ \n                          maxWidth: '320px',\n                          fontSize: '12px'\n                        }}\n                      >\n                        <QuestionCircleOutlined \n                          style={{ \n                            marginLeft: '8px', \n                            color: '#8c8c8c',\n                            fontSize: '14px',\n                            cursor: 'pointer'\n                          }} \n                        />\n                      </Tooltip>\n                    </span>\n                  } \n                  value={kpi.pendingCount} \n                  valueStyle={{ fontWeight: 700 }} \n                />\n              </Card>\n            </Col>\n            <Col xs={24} sm={8}>\n              <Card style={{ ...cardStyle, marginBottom: 0 }}>\n                <Statistic \n                  title={\n                    <span>\n                      本月已完成\n                      <Tooltip \n                        title={\n                          <div style={{ maxWidth: '300px' }}>\n                            <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>本月已完成</div>\n                            <div style={{ marginBottom: '6px' }}>含义：本月成功完成的客户交接数量</div>\n                            <div style={{ marginBottom: '6px' }}>来源：交接完成时间在本月内的记录</div>\n                            <div style={{ marginBottom: '6px' }}>计算方式：状态为\"已完成\"且完成时间在本月</div>\n                            <div style={{ color: '#52c41a' }}>提示：反映团队本月工作效率</div>\n                          </div>\n                        }\n                        placement=\"top\"\n                        overlayStyle={{ \n                          maxWidth: '320px',\n                          fontSize: '12px'\n                        }}\n                      >\n                        <QuestionCircleOutlined \n                          style={{ \n                            marginLeft: '8px', \n                            color: '#8c8c8c',\n                            fontSize: '14px',\n                            cursor: 'pointer'\n                          }} \n                        />\n                      </Tooltip>\n                    </span>\n                  } \n                  value={kpi.completedThisMonth} \n                  valueStyle={{ fontWeight: 700 }} \n                />\n              </Card>\n            </Col>\n            <Col xs={24} sm={8}>\n              <Card style={{ ...cardStyle, marginBottom: 0 }}>\n                <Statistic \n                  title={\n                    <span>\n                      存在风险交接\n                      <Tooltip \n                        title={\n                          <div style={{ maxWidth: '300px' }}>\n                            <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>存在风险交接</div>\n                            <div style={{ marginBottom: '6px' }}>含义：需要特别关注的潜在风险交接</div>\n                            <div style={{ marginBottom: '6px' }}>来源：风险评估系统自动识别</div>\n                            <div style={{ marginBottom: '6px' }}>计算方式：风险等级为\"中\"或\"高\"的交接</div>\n                            <div style={{ color: '#ff4d4f' }}>提示：建议优先处理，避免客户流失</div>\n                          </div>\n                        }\n                        placement=\"top\"\n                        overlayStyle={{ \n                          maxWidth: '320px',\n                          fontSize: '12px'\n                        }}\n                      >\n                        <QuestionCircleOutlined \n                          style={{ \n                            marginLeft: '8px', \n                            color: '#8c8c8c',\n                            fontSize: '14px',\n                            cursor: 'pointer'\n                          }} \n                        />\n                      </Tooltip>\n                    </span>\n                  } \n                  value={kpi.riskyCount} \n                  valueStyle={{ fontWeight: 700 }} \n                />\n              </Card>\n            </Col>\n          </Row>\n        </div>\n\n        {/* 列表区域 - 白色矩形 */}\n        <div style={{ \n          ...cardStyle,\n          padding: '24px'\n        }}>\n          <div style={{ \n            display: 'flex', \n            justifyContent: 'space-between', \n            alignItems: 'center',\n            marginBottom: '16px'\n          }}>\n            <Input\n              placeholder=\"搜索客户名称或交接单编号\"\n              prefix={<SearchOutlined />}\n              value={searchText}\n              onChange={e => setSearchText(e.target.value)}\n              allowClear\n              style={{ width: 300, borderRadius: '6px' }}\n            />\n\n            <Space size=\"small\">\n              <Button \n                icon={<ReloadOutlined />} \n                onClick={() => {\n                  // 重置所有搜索、筛选、排序状态\n                  setSearchText('');\n                  setSearchedColumn('');\n                  setSearchParams({\n                    customerName: '',\n                    status: undefined,\n                    riskLevel: undefined\n                  });\n                  setCurrentPage(1);\n                  message.success('已重置所有筛选条件');\n                }}\n                title=\"重置所有筛选条件\"\n              />\n              <Button icon={<DownloadOutlined />} />\n              <Button icon={<SettingOutlined />} />\n            </Space>\n          </div>\n\n          {/* 数据表格 */}\n          <Table\n            columns={columns}\n            dataSource={paginatedData}\n            rowKey=\"id\"\n            pagination={false}\n            size=\"small\"\n            scroll={{ x: 900 }}\n            style={{ background: '#fff' }}\n          />\n\n          {/* 分页 */}\n          <div style={{ \n            display: 'flex', \n            justifyContent: 'space-between', \n            alignItems: 'center',\n            marginTop: '16px' \n          }}>\n            <div style={{ color: '#666', fontSize: '14px' }}>\n              共 {filteredData.length} 条记录\n            </div>\n            <Pagination\n              current={currentPage}\n              total={filteredData.length}\n              pageSize={pageSize}\n              onChange={setCurrentPage}\n              showSizeChanger={false}\n              showQuickJumper\n              showTotal={(total, range) => \n                `第 ${range[0]}-${range[1]} 条/共 ${total} 条`\n              }\n            />\n          </div>\n        </div>\n    </div>\n  );\n};\n\nexport default HandoverListPage;\n"],"names":[],"mappings":"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"}